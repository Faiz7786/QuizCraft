/* ═══════════════════════════════════════════
   QUIZCRAFT — LIGHT THEME REDESIGN
   Aesthetic: Fresh citrus-meets-sky editorial
   Fonts: Clash Display + Cabinet Grotesk
═══════════════════════════════════════════ */

@import url('https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@300;400;500;600;700;800&family=Fraunces:ital,wght@0,700;0,900;1,700&display=swap');

:root {
  --bg:        #fafaf7;
  --bg2:       #f4f3ef;
  --bg3:       #ebe9e3;
  --surface:   #ffffff;
  --border:    rgba(0,0,0,0.08);
  --border2:   rgba(0,0,0,0.14);
  --accent:    #ff6b35;
  --accent2:   #f7c948;
  --accent3:   #4a9eff;
  --accent4:   #9b59b6;
  --green:     #2ecc71;
  --red:       #e74c3c;
  --yellow:    #f39c12;
  --text:      #1a1a1a;
  --text2:     #5a5a5a;
  --text3:     #999;
  --radius:    18px;
  --radius-sm: 10px;
  --shadow:    0 4px 24px rgba(0,0,0,0.08);
  --shadow-md: 0 8px 40px rgba(0,0,0,0.12);
  --shadow-lg: 0 20px 60px rgba(0,0,0,0.15);
}

*, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }
html { scroll-behavior: smooth; }

body {
  font-family: 'Plus Jakarta Sans', sans-serif;
  background: var(--bg);
  color: var(--text);
  min-height: 100vh;
  overflow-x: hidden;
}

/* ─── NOISE ─── */
.noise {
  position: fixed; inset: 0; z-index: 9999;
  pointer-events: none;
  background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 256 256' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23n)' opacity='0.04'/%3E%3C/svg%3E");
  opacity: .2;
  mix-blend-mode: multiply;
}

/* ─── LOADER ─── */
#loader {
  position: fixed; inset: 0; z-index: 10000;
  background: var(--bg);
  display: flex; align-items: center; justify-content: center;
  transition: opacity .5s, visibility .5s;
}
#loader.hidden { opacity: 0; visibility: hidden; }
.loader-inner { text-align: center; }
.loader-logo {
  font-family: 'Fraunces', serif;
  font-size: 4.5rem; font-weight: 900;
  color: var(--accent);
  animation: pulse 1s ease-in-out infinite;
  filter: drop-shadow(0 4px 12px rgba(255,107,53,.3));
}
.loader-bar {
  width: 120px; height: 3px;
  background: var(--bg3); border-radius: 2px;
  margin: 1rem auto 0; overflow: hidden;
}
.loader-fill {
  height: 100%;
  background: linear-gradient(90deg, var(--accent), var(--accent2));
  animation: load 1.5s ease-in-out forwards;
}
@keyframes load { from { width: 0 } to { width: 100% } }
@keyframes pulse { 0%,100%{opacity:1;transform:scale(1)} 50%{opacity:.8;transform:scale(0.97)} }

/* ─── NAV ─── */
#navbar {
  position: fixed; top: 0; left: 0; right: 0; z-index: 100;
  display: flex; align-items: center; gap: 2rem;
  padding: .9rem 2rem;
  background: rgba(250,250,247,.92);
  backdrop-filter: blur(24px);
  border-bottom: 1px solid var(--border);
  transition: all .3s;
}
.nav-brand {
  font-family: 'Fraunces', serif;
  font-size: 1.5rem; font-weight: 900;
  color: var(--text); white-space: nowrap;
  letter-spacing: -0.02em;
}
.nav-brand span {
  color: var(--accent);
  font-style: italic;
}
.nav-links { display: flex; gap: .2rem; flex: 1; }
.nav-link {
  padding: .45rem 1rem; border-radius: 50px;
  color: var(--text2); text-decoration: none;
  font-size: .88rem; font-weight: 600;
  transition: all .2s; letter-spacing: .01em;
}
.nav-link:hover { color: var(--text); background: var(--bg3); }
.nav-link.active {
  color: var(--accent);
  background: rgba(255,107,53,0.1);
}
.nav-actions { display: flex; gap: .6rem; align-items: center; margin-left: auto; }

/* User pill in nav */
.nav-user-pill {
  display: flex; align-items: center; gap: .65rem;
  background: var(--bg2); border: 1.5px solid var(--border2);
  border-radius: 50px; padding: .3rem .3rem .3rem .85rem;
}
.nav-avatar {
  width: 30px; height: 30px; border-radius: 50%;
  background: linear-gradient(135deg, var(--accent), var(--accent2));
  display: flex; align-items: center; justify-content: center;
  font-size: .75rem; font-weight: 800; color: #fff;
  flex-shrink: 0;
}
.nav-username {
  color: var(--text); font-weight: 700; font-size: .88rem;
  white-space: nowrap; max-width: 120px;
  overflow: hidden; text-overflow: ellipsis;
}
.btn-sm { padding: .35rem .9rem; font-size: .8rem; }

/* Hamburger always on far right */
.nav-hamburger {
  display: none; background: none; border: 1.5px solid var(--border2);
  color: var(--text); font-size: 1.1rem; cursor: pointer;
  margin-left: auto; padding: .4rem .6rem; border-radius: 8px;
  transition: all .2s;
}
.nav-hamburger:hover { background: var(--bg3); }

/* Mobile Menu */
.mobile-menu {
  display: none; position: fixed; top: 62px; left: 0; right: 0; z-index: 99;
  background: var(--surface); border-bottom: 1px solid var(--border);
  flex-direction: column; padding: 1rem 1.5rem; gap: .4rem;
  box-shadow: var(--shadow-md);
}
.mobile-menu.open { display: flex; }
.mobile-menu a {
  color: var(--text2); text-decoration: none; padding: .7rem 1rem;
  border-radius: 10px; font-weight: 600; font-size: .9rem;
}
.mobile-menu a:hover { color: var(--text); background: var(--bg2); }

/* ─── BUTTONS ─── */
.btn {
  display: inline-flex; align-items: center; gap: .5rem;
  padding: .6rem 1.35rem; border-radius: 50px;
  font-family: 'Plus Jakarta Sans', sans-serif; font-size: .88rem; font-weight: 700;
  cursor: pointer; border: none; text-decoration: none;
  transition: all .22s; white-space: nowrap;
  letter-spacing: .01em;
}
.btn-primary {
  background: var(--accent);
  color: #fff;
  box-shadow: 0 4px 16px rgba(255,107,53,.35);
}
.btn-primary:hover {
  transform: translateY(-2px);
  box-shadow: 0 8px 28px rgba(255,107,53,.45);
  background: #e85d28;
}
.btn-ghost {
  background: var(--bg3); color: var(--text2);
  border: 1.5px solid var(--border2);
}
.btn-ghost:hover { color: var(--text); background: var(--bg2); border-color: var(--text3); }
.btn-outline {
  background: transparent; color: var(--text);
  border: 1.5px solid var(--border2);
}
.btn-outline:hover { border-color: var(--accent); color: var(--accent); background: rgba(255,107,53,.05); }
.btn-secondary {
  background: rgba(255,107,53,0.08);
  color: var(--accent);
  border: 1.5px solid rgba(255,107,53,0.25);
}
.btn-secondary:hover { background: rgba(255,107,53,.15); }
.btn-google {
  background: var(--surface); color: var(--text);
  border: 1.5px solid var(--border2); justify-content: center;
}
.btn-google:hover { border-color: var(--text3); background: var(--bg2); }
.btn-danger {
  background: rgba(231,76,60,.08); color: var(--red);
  border: 1.5px solid rgba(231,76,60,.3);
}
.btn-danger:hover { background: rgba(231,76,60,.18); }
.btn-xl { padding: .9rem 2.2rem; font-size: 1rem; border-radius: 50px; }
.btn-lg { padding: .8rem 1.8rem; font-size: .95rem; }
.btn-full { width: 100%; justify-content: center; margin-top: .5rem; }
.btn:disabled { opacity: .45; cursor: not-allowed; transform: none !important; }

/* ─── PAGES ─── */
.page { display: none; min-height: 100vh; padding-top: 70px; }
.page.active { display: block; }

/* ─── HERO ─── */
.hero {
  position: relative; overflow: hidden;
  min-height: calc(100vh - 70px);
  display: grid; grid-template-columns: 1fr 1fr;
  align-items: center; gap: 4rem;
  padding: 4rem 5vw 6rem;
  background: var(--bg);
}

/* Decorative background shapes */
.hero-bg { position: absolute; inset: 0; pointer-events: none; overflow: hidden; }
.orb {
  position: absolute; border-radius: 50%;
  filter: blur(60px); opacity: .55;
}
.orb1 {
  width: 520px; height: 520px; top: -120px; left: -80px;
  background: radial-gradient(circle, rgba(255,107,53,.18) 0%, transparent 70%);
  animation: float1 9s ease-in-out infinite;
}
.orb2 {
  width: 380px; height: 380px; top: 10%; right: -60px;
  background: radial-gradient(circle, rgba(74,158,255,.2) 0%, transparent 70%);
  animation: float2 11s ease-in-out infinite;
}
.orb3 {
  width: 280px; height: 280px; bottom: 0; left: 42%;
  background: radial-gradient(circle, rgba(247,201,72,.25) 0%, transparent 70%);
  animation: float3 8s ease-in-out infinite;
}

/* Grid dots pattern */
.hero-bg::after {
  content: '';
  position: absolute; inset: 0;
  background-image: radial-gradient(rgba(0,0,0,0.06) 1px, transparent 1px);
  background-size: 28px 28px;
  mask-image: radial-gradient(ellipse at center, black 20%, transparent 75%);
}

@keyframes float1 { 0%,100%{transform:translate(0,0)} 50%{transform:translate(25px,-35px)} }
@keyframes float2 { 0%,100%{transform:translate(0,0)} 50%{transform:translate(-18px,28px)} }
@keyframes float3 { 0%,100%{transform:translate(0,0)} 50%{transform:translate(35px,-18px)} }

.hero-content { position: relative; z-index: 1; }
.hero-badge {
  display: inline-flex; align-items: center; gap: .45rem;
  background: rgba(255,107,53,.1); border: 1.5px solid rgba(255,107,53,.25);
  color: var(--accent); padding: .4rem 1rem; border-radius: 50px;
  font-size: .78rem; font-weight: 700; letter-spacing: .06em;
  text-transform: uppercase;
  margin-bottom: 1.5rem;
  animation: fadeUp .6s ease both;
}
.hero-title {
  font-family: 'Fraunces', serif;
  font-size: clamp(2.8rem, 5.5vw, 5rem);
  font-weight: 900; line-height: 1.0;
  margin-bottom: 1.25rem;
  letter-spacing: -0.03em;
  color: var(--text);
  animation: fadeUp .6s .1s ease both;
}
.grad-text {
  font-style: italic;
  background: linear-gradient(125deg, var(--accent) 0%, var(--accent2) 50%, #ff9f43 100%);
  -webkit-background-clip: text; -webkit-text-fill-color: transparent;
  background-clip: text;
}
.hero-subtitle {
  color: var(--text2); font-size: 1.05rem; line-height: 1.75;
  max-width: 460px; margin-bottom: 2rem;
  font-weight: 400;
  animation: fadeUp .6s .2s ease both;
}
.hero-cta { display: flex; gap: .85rem; flex-wrap: wrap; animation: fadeUp .6s .3s ease both; }
.hero-stats {
  display: flex; align-items: center; gap: 2rem;
  margin-top: 3rem;
  animation: fadeUp .6s .4s ease both;
}
.stat { display: flex; flex-direction: column; }
.stat span { font-family: 'Fraunces', serif; font-size: 2rem; font-weight: 900; color: var(--text); }
.stat small { color: var(--text3); font-size: .78rem; font-weight: 600; text-transform: uppercase; letter-spacing: .06em; margin-top: 2px; }
.stat-divider { width: 1px; height: 44px; background: var(--border2); }

/* ─── HERO VISUAL — QUIZ MOCKUP ─── */
.hero-visual {
  position: relative; min-height: 500px;
  display: flex; align-items: center; justify-content: center;
}

/* Main quiz card mockup */
.hv-mockup {
  background: var(--surface);
  border: 1.5px solid var(--border2);
  border-radius: 24px; padding: 1.8rem;
  width: 340px; position: relative; z-index: 2;
  box-shadow: var(--shadow-lg);
  animation: floatCard1 6s ease-in-out infinite;
}
@keyframes floatCard1 { 0%,100%{transform:translateY(0)} 50%{transform:translateY(-14px)} }

.hvm-header {
  display: flex; align-items: center;
  justify-content: space-between; margin-bottom: .9rem;
}
.hvm-tag {
  font-size: .72rem; font-weight: 800; letter-spacing: .07em;
  text-transform: uppercase; color: var(--accent);
  background: rgba(255,107,53,.1); padding: .25rem .7rem;
  border-radius: 20px;
}
.hvm-qcount {
  font-size: .78rem; font-weight: 700; color: var(--text3);
}

.hvm-progress {
  height: 5px; background: var(--bg3); border-radius: 3px;
  overflow: hidden; margin-bottom: 1.2rem;
}
.hvm-prog-fill {
  height: 100%;
  background: linear-gradient(90deg, var(--accent), var(--accent2));
  border-radius: 3px;
}

.hvm-question {
  font-family: 'Fraunces', serif; font-size: 1.05rem;
  font-weight: 700; color: var(--text); line-height: 1.4;
  margin-bottom: 1.2rem;
}

.hvm-options { display: flex; flex-direction: column; gap: .55rem; }
.hvm-opt {
  padding: .7rem 1rem; border-radius: 10px;
  font-size: .85rem; font-weight: 600; color: var(--text2);
  background: var(--bg2); border: 1.5px solid var(--border);
  display: flex; align-items: center; justify-content: space-between;
  transition: all .2s;
}
.hvm-opt-correct {
  background: rgba(46,204,113,.1); border-color: rgba(46,204,113,.4);
  color: #1a9950;
}
.hvm-tick {
  background: var(--green); color: #fff;
  width: 20px; height: 20px; border-radius: 50%;
  display: flex; align-items: center; justify-content: center;
  font-size: .7rem; font-weight: 900; flex-shrink: 0;
}

.hvm-footer {
  display: flex; align-items: center; justify-content: space-between;
  margin-top: 1.1rem; padding-top: .9rem;
  border-top: 1px solid var(--border);
}
.hvm-streak {
  font-size: .8rem; font-weight: 700; color: var(--accent);
}
.hvm-timer {
  font-size: .8rem; font-weight: 700; color: var(--text3);
}

/* Floating stat chips */
.hv-chip {
  position: absolute; background: var(--surface);
  border: 1.5px solid var(--border2); border-radius: 16px;
  padding: .8rem 1.1rem;
  display: flex; align-items: center; gap: .7rem;
  box-shadow: var(--shadow-md); z-index: 3;
}
.chip-icon { font-size: 1.5rem; }
.chip-val {
  font-family: 'Fraunces', serif; font-size: 1.1rem;
  font-weight: 900; color: var(--text); line-height: 1;
}
.chip-lbl { font-size: .7rem; color: var(--text3); font-weight: 600; margin-top: 2px; }

.chip-a { top: 6%; right: -10px; animation: floatChipA 7s ease-in-out infinite; }
.chip-b { bottom: 18%; right: -20px; animation: floatChipB 8s ease-in-out infinite; }
.chip-c { bottom: 4%; left: -10px; animation: floatChipC 6s ease-in-out infinite; }

@keyframes floatChipA { 0%,100%{transform:translateY(0) rotate(2deg)} 50%{transform:translateY(-10px) rotate(2deg)} }
@keyframes floatChipB { 0%,100%{transform:translateY(0) rotate(-1deg)} 50%{transform:translateY(-12px) rotate(-1deg)} }
@keyframes floatChipC { 0%,100%{transform:translateY(0) rotate(1.5deg)} 50%{transform:translateY(-8px) rotate(1.5deg)} }

/* ─── FEATURES ─── */
.features {
  padding: 7rem 5vw;
  background: var(--bg2);
  position: relative;
}
.features::before {
  content: '';
  position: absolute; top: 0; left: 0; right: 0;
  height: 2px;
  background: linear-gradient(90deg, transparent, var(--accent), var(--accent2), var(--accent3), transparent);
  opacity: .5;
}
.section-title {
  font-family: 'Fraunces', serif;
  font-size: clamp(2rem, 3.5vw, 3rem);
  font-weight: 900; text-align: center;
  margin-bottom: 3.5rem;
  letter-spacing: -0.02em;
  color: var(--text);
}
.features-grid {
  display: grid; grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
  gap: 1.5rem; max-width: 960px; margin: 0 auto;
}
.feature-card {
  background: var(--surface); border: 1.5px solid var(--border);
  border-radius: var(--radius); padding: 2rem;
  transition: all .3s; cursor: default;
  position: relative; overflow: hidden;
}
.feature-card::after {
  content: '';
  position: absolute; inset: 0;
  background: linear-gradient(135deg, rgba(255,107,53,.04), transparent);
  opacity: 0; transition: opacity .3s;
}
.feature-card:hover {
  border-color: var(--accent); transform: translateY(-5px);
  box-shadow: var(--shadow-md);
}
.feature-card:hover::after { opacity: 1; }
.feat-icon {
  font-size: 2.2rem; margin-bottom: 1rem;
  display: inline-flex; align-items: center; justify-content: center;
  width: 56px; height: 56px;
  background: var(--bg2); border-radius: 14px;
}
.feature-card h3 {
  font-family: 'Fraunces', serif; font-size: 1.15rem;
  font-weight: 700; margin-bottom: .5rem; color: var(--text);
}
.feature-card p { color: var(--text2); font-size: .88rem; line-height: 1.65; }

/* ─── PAGE HEADER ─── */
.page-header {
  display: flex; align-items: center; justify-content: space-between;
  flex-wrap: wrap; gap: 1rem;
  padding: 3rem 5vw 1.5rem;
}
.page-title {
  font-family: 'Fraunces', serif;
  font-size: clamp(1.9rem, 3.5vw, 2.6rem);
  font-weight: 900; letter-spacing: -0.02em;
  color: var(--text);
}
.page-sub { color: var(--text2); margin-top: .25rem; font-size: .95rem; }
.search-bar { position: relative; }
.search-bar input {
  background: var(--surface); border: 1.5px solid var(--border2);
  color: var(--text); padding: .65rem 1rem .65rem 2.6rem;
  border-radius: 50px; font-size: .88rem;
  font-family: 'Plus Jakarta Sans', sans-serif;
  width: 290px; transition: all .2s;
  box-shadow: var(--shadow);
}
.search-bar input:focus {
  outline: none; border-color: var(--accent);
  box-shadow: 0 0 0 3px rgba(255,107,53,.12);
}
.search-icon { position: absolute; left: .9rem; top: 50%; transform: translateY(-50%); font-size: .9rem; }

/* ─── QUIZ GRID ─── */
.quiz-grid {
  display: grid; grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
  gap: 1.5rem; padding: 1.5rem 5vw 5rem;
}
.quiz-card {
  background: var(--surface); border: 1.5px solid var(--border);
  border-radius: var(--radius); padding: 1.6rem;
  transition: all .28s; cursor: pointer;
  animation: fadeUp .4s ease both;
  position: relative; overflow: hidden;
}
.quiz-card::before {
  content: '';
  position: absolute; top: 0; left: 0; right: 0; height: 3px;
  background: linear-gradient(90deg, var(--accent), var(--accent2));
  opacity: 0; transition: opacity .3s;
}
.quiz-card:hover {
  border-color: rgba(255,107,53,.3);
  transform: translateY(-4px);
  box-shadow: var(--shadow-lg);
}
.quiz-card:hover::before { opacity: 1; }
.qc-category {
  font-size: .7rem; font-weight: 800; letter-spacing: .1em; text-transform: uppercase;
  color: var(--accent); margin-bottom: .75rem;
  display: flex; align-items: center; justify-content: space-between;
}
.qc-badge {
  background: rgba(255,107,53,.1); color: var(--accent);
  padding: .2rem .65rem; border-radius: 20px; font-size: .68rem;
  font-weight: 700;
}
.qc-title {
  font-family: 'Fraunces', serif; font-size: 1.15rem;
  font-weight: 700; margin-bottom: .5rem; line-height: 1.25;
  color: var(--text);
}
.qc-desc {
  color: var(--text2); font-size: .84rem; line-height: 1.55;
  margin-bottom: 1.25rem;
  display: -webkit-box; -webkit-line-clamp: 2;
  -webkit-box-orient: vertical; overflow: hidden;
}
.qc-meta {
  display: flex; align-items: center; gap: 1rem;
  color: var(--text3); font-size: .78rem; margin-bottom: 1rem;
}
.qc-author { color: var(--accent); font-weight: 600; }
.qc-actions { display: flex; gap: .5rem; }
.loading-quizzes {
  color: var(--text2); text-align: center;
  padding: 4rem; grid-column: 1/-1; font-size: .95rem;
}

/* ─── QUIZ BUILDER ─── */
.quiz-builder { padding: 2rem 5vw 4rem; max-width: 800px; }
.form-group { margin-bottom: 1.4rem; }
.form-group label {
  display: block; font-size: .82rem; font-weight: 700; color: var(--text2);
  margin-bottom: .5rem; letter-spacing: .04em; text-transform: uppercase;
}
.form-group input,
.form-group textarea,
.form-group select {
  width: 100%; background: var(--surface); border: 1.5px solid var(--border2);
  color: var(--text); padding: .75rem 1.1rem; border-radius: var(--radius-sm);
  font-family: 'Plus Jakarta Sans', sans-serif; font-size: .93rem;
  transition: all .2s; resize: vertical;
}
.form-group input:focus,
.form-group textarea:focus,
.form-group select:focus {
  outline: none; border-color: var(--accent);
  box-shadow: 0 0 0 3px rgba(255,107,53,.1);
}
.form-group select { appearance: none; cursor: pointer; background-color: var(--surface); }
.form-row { display: grid; grid-template-columns: 1fr 1fr; gap: 1.2rem; }

.questions-section { margin: 2rem 0; }
.qs-header {
  display: flex; align-items: center;
  justify-content: space-between; margin-bottom: 1rem;
}
.qs-header h3 {
  font-family: 'Fraunces', serif; font-size: 1.25rem;
  font-weight: 700; color: var(--text);
}
.form-actions {
  display: flex; justify-content: flex-end;
  gap: 1rem; margin-top: 2rem;
}

/* Question Item */
.question-item {
  background: var(--surface); border: 1.5px solid var(--border);
  border-radius: var(--radius); padding: 1.6rem; margin-bottom: 1rem;
  animation: fadeIn .3s ease;
  transition: border-color .2s;
}
.question-item:hover { border-color: var(--border2); }
.qi-header {
  display: flex; align-items: center;
  justify-content: space-between; margin-bottom: 1rem;
}
.qi-num {
  font-family: 'Fraunces', serif; font-weight: 900;
  color: var(--accent); font-size: 1.05rem;
}
.options-list { display: grid; grid-template-columns: 1fr 1fr; gap: .65rem; margin-top: .75rem; }
.option-row { display: flex; align-items: center; gap: .5rem; }
.option-row input[type="text"] { flex: 1; }
.option-row input[type="radio"] { width: auto; accent-color: var(--accent); }

/* ─── PLAY ─── */
.play-start {
  display: flex; flex-direction: column; align-items: center;
  justify-content: center; min-height: calc(100vh - 70px);
  padding: 2rem; text-align: center;
}
.play-quiz-info { max-width: 620px; margin-bottom: 2.5rem; }
.play-category {
  display: inline-block; font-size: .72rem; font-weight: 800;
  text-transform: uppercase; letter-spacing: .1em; color: var(--accent);
  background: rgba(255,107,53,.1); border: 1.5px solid rgba(255,107,53,.25);
  padding: .3rem .9rem; border-radius: 20px; margin-bottom: 1rem;
}
.play-quiz-info h2 {
  font-family: 'Fraunces', serif; font-size: 2.8rem;
  font-weight: 900; margin-bottom: 1rem;
  letter-spacing: -0.02em; color: var(--text);
}
.play-quiz-info p { color: var(--text2); font-size: 1rem; line-height: 1.7; margin-bottom: 1.5rem; }
.play-meta { display: flex; gap: 1.5rem; justify-content: center; color: var(--text3); font-size: .83rem; }

#play-quiz { padding: 2rem 5vw; max-width: 760px; margin: 0 auto; }
.quiz-progress { margin-bottom: 2.5rem; }
.progress-info {
  display: flex; justify-content: space-between; align-items: center;
  margin-bottom: .75rem; font-size: .88rem; color: var(--text2); font-weight: 500;
}
.timer { font-weight: 800; color: var(--accent); font-family: 'Fraunces', serif; }
.timer.urgent { color: var(--red); animation: blink .5s infinite; }
@keyframes blink { 0%,100%{opacity:1} 50%{opacity:.4} }
.progress-bar {
  height: 8px; background: var(--bg3); border-radius: 4px; overflow: hidden;
}
.progress-fill {
  height: 100%;
  background: linear-gradient(90deg, var(--accent), var(--accent2));
  border-radius: 4px; transition: width .4s ease;
}

.question-area {
  background: var(--surface); border: 1.5px solid var(--border2);
  border-radius: var(--radius); padding: 2.5rem;
  box-shadow: var(--shadow);
}
.question-area h3 {
  font-family: 'Fraunces', serif; font-size: 1.5rem;
  font-weight: 700; margin-bottom: 2rem; line-height: 1.35;
  color: var(--text);
}
.options-grid { display: grid; grid-template-columns: 1fr 1fr; gap: .85rem; }
.option-btn {
  background: var(--bg2); border: 1.5px solid var(--border2);
  color: var(--text); padding: 1.1rem 1.3rem; border-radius: 12px;
  font-family: 'Plus Jakarta Sans', sans-serif; font-size: .9rem;
  font-weight: 600; cursor: pointer; text-align: left; transition: all .2s;
}
.option-btn:hover:not(:disabled) {
  border-color: var(--accent); background: rgba(255,107,53,.07);
  transform: translateY(-2px); box-shadow: var(--shadow);
}
.option-btn.correct {
  background: rgba(46,204,113,.1); border-color: var(--green);
  color: #1a9950; font-weight: 700;
}
.option-btn.wrong {
  background: rgba(231,76,60,.08); border-color: var(--red); color: var(--red);
}

/* Result */
.result-screen {
  display: flex; align-items: center; justify-content: center;
  min-height: calc(100vh - 70px); padding: 2rem;
}
.result-inner {
  text-align: center; max-width: 500px;
  animation: fadeUp .5s ease;
  background: var(--surface); border-radius: 28px;
  padding: 3rem; border: 1.5px solid var(--border);
  box-shadow: var(--shadow-lg);
}
.result-emoji { font-size: 4rem; margin-bottom: 1rem; }
.result-inner h2 {
  font-family: 'Fraunces', serif; font-size: 2.2rem;
  font-weight: 900; margin-bottom: 1rem; color: var(--text);
}
.result-score {
  font-family: 'Fraunces', serif; font-size: 4.5rem; font-weight: 900;
  background: linear-gradient(135deg, var(--accent), var(--accent2));
  -webkit-background-clip: text; -webkit-text-fill-color: transparent;
  background-clip: text; margin-bottom: .5rem; line-height: 1;
}
.result-inner p { color: var(--text2); margin-bottom: 2rem; }
.result-breakdown {
  display: flex; gap: 1.5rem; justify-content: center;
  margin-bottom: 2rem; padding: 1.5rem;
  background: var(--bg2); border-radius: 14px;
}
.rb-item { text-align: center; }
.rb-item .rb-num { font-family: 'Fraunces', serif; font-size: 1.7rem; font-weight: 900; }
.rb-item small { color: var(--text3); font-size: .78rem; font-weight: 600; text-transform: uppercase; letter-spacing: .06em; }
.rb-correct .rb-num { color: var(--green); }
.rb-wrong .rb-num { color: var(--red); }
.result-actions { display: flex; gap: 1rem; justify-content: center; }

/* ─── MODALS ─── */
.modal-overlay {
  display: none; position: fixed; inset: 0; z-index: 200;
  background: rgba(0,0,0,.35); backdrop-filter: blur(8px);
  align-items: center; justify-content: center; padding: 1rem;
}
.modal-overlay.open { display: flex; }
.modal {
  background: var(--surface); border: 1.5px solid var(--border2);
  border-radius: 24px; padding: 2.5rem; width: 100%; max-width: 420px;
  position: relative; animation: slideUp .3s ease;
  box-shadow: var(--shadow-lg);
}
@keyframes slideUp { from{opacity:0;transform:translateY(24px)} to{opacity:1;transform:translateY(0)} }
.modal-close {
  position: absolute; top: 1.25rem; right: 1.25rem;
  background: var(--bg3); border: none; color: var(--text2);
  width: 32px; height: 32px; border-radius: 50%; cursor: pointer;
  font-size: .85rem; display: flex; align-items: center; justify-content: center;
  transition: all .2s;
}
.modal-close:hover { color: var(--text); background: var(--bg2); }
.modal-logo {
  font-family: 'Fraunces', serif; font-size: 1.3rem;
  font-weight: 900; margin-bottom: 1.5rem; color: var(--text);
}
.modal-logo span { color: var(--accent); font-style: italic; }
.modal h2 {
  font-family: 'Fraunces', serif; font-size: 1.7rem;
  font-weight: 900; margin-bottom: .25rem; color: var(--text);
  letter-spacing: -0.02em;
}
.modal-sub { color: var(--text2); font-size: .88rem; margin-bottom: 1.5rem; }
.modal-divider { position: relative; text-align: center; margin: 1.2rem 0; }
.modal-divider::before {
  content:''; position:absolute; top:50%; left:0; right:0;
  height:1px; background:var(--border2);
}
.modal-divider span {
  position: relative; background: var(--surface);
  padding: 0 .75rem; color: var(--text3); font-size: .8rem; font-weight: 600;
}
.modal-footer { text-align: center; color: var(--text2); font-size: .84rem; margin-top: 1.25rem; }
.modal-footer a { color: var(--accent); text-decoration: none; font-weight: 700; }

/* ─── TOAST ─── */
.toast {
  position: fixed; bottom: 2rem; right: 2rem; z-index: 9000;
  background: var(--surface); border: 1.5px solid var(--border2);
  color: var(--text); padding: 1rem 1.5rem; border-radius: 14px;
  font-size: .88rem; font-weight: 600;
  box-shadow: var(--shadow-lg);
  transform: translateY(20px); opacity: 0;
  transition: all .3s; pointer-events: none;
}
.toast.show { transform: translateY(0); opacity: 1; }
.toast.success { border-left: 3px solid var(--green); }
.toast.error { border-left: 3px solid var(--red); }
.toast.info { border-left: 3px solid var(--accent); }

/* ─── ERROR MSG ─── */
.error-msg {
  background: rgba(231,76,60,.08); border: 1.5px solid rgba(231,76,60,.25);
  color: var(--red); padding: .75rem 1rem; border-radius: 10px;
  font-size: .84rem; margin-bottom: 1rem;
  display: none;
}
.error-msg.show { display: block; }

/* ─── ANIMATIONS ─── */
@keyframes fadeUp { from{opacity:0;transform:translateY(22px)} to{opacity:1;transform:translateY(0)} }
@keyframes fadeIn { from{opacity:0} to{opacity:1} }

/* ─── EMPTY STATE ─── */
.empty-state {
  text-align: center; padding: 5rem 1rem; color: var(--text2);
  grid-column: 1/-1;
}
.empty-state .es-icon { font-size: 3.5rem; margin-bottom: 1rem; }
.empty-state h3 {
  font-family: 'Fraunces', serif; font-size: 1.5rem;
  color: var(--text); margin-bottom: .5rem; font-weight: 700;
}

/* ─── RESPONSIVE ─── */
@media (max-width: 960px) {
  .hero {
    grid-template-columns: 1fr;
    padding: 3rem 5vw;
    text-align: center;
    gap: 2.5rem;
  }
  .hero-visual { display: none; }
  .hero-cta { justify-content: center; }
  .hero-stats { justify-content: center; }
  .hero-subtitle { margin-left: auto; margin-right: auto; }
}

@media (max-width: 640px) {
  .nav-links { display: none; }
  .nav-actions { display: none; }
  .nav-hamburger { display: flex; align-items: center; justify-content: center; margin-left: auto; }
  
  .hero { padding: 2.5rem 1.25rem 4rem; }
  .hero-title { font-size: 2.4rem; }
  .hero-cta { flex-direction: column; align-items: center; }
  .hero-cta .btn { width: 100%; justify-content: center; max-width: 320px; }
  .hero-stats { gap: 1.2rem; }
  
  .options-grid { grid-template-columns: 1fr; }
  .form-row { grid-template-columns: 1fr; }
  .options-list { grid-template-columns: 1fr; }
  
  .page-header {
    flex-direction: column; align-items: flex-start;
    padding: 2rem 1.25rem 1rem;
  }
  .search-bar { width: 100%; }
  .search-bar input { width: 100%; }
  
  #navbar { padding: .75rem 1.25rem; }
  
  .quiz-grid { padding: 1rem 1.25rem 3rem; gap: 1rem; }
  .quiz-grid { grid-template-columns: 1fr; }
  
  .quiz-builder { padding: 1.5rem 1.25rem 3rem; }
  .modal { padding: 1.75rem; }
  .result-breakdown { gap: 1rem; }
  .result-inner { padding: 2rem; }
  .question-area { padding: 1.5rem; }
  
  .features { padding: 4rem 1.25rem; }
  .features-grid { grid-template-columns: 1fr; gap: 1rem; }
  
  .play-quiz-info h2 { font-size: 2rem; }
  .play-quiz-info { padding: 0 .5rem; }
  
  #play-quiz { padding: 1.5rem 1.25rem; }
  
  .btn-xl { padding: .8rem 1.6rem; font-size: .95rem; }
  
  .page-title { font-size: 1.7rem; }
  .section-title { font-size: 1.7rem; }
  
  .toast { bottom: 1rem; right: 1rem; left: 1rem; }
  
  /* Mobile user pill compact */
  .nav-user-pill { padding: .25rem .6rem; gap: .4rem; }
  .nav-username { max-width: 80px; font-size: .8rem; }
}

@media (max-width: 400px) {
  .hero-title { font-size: 2rem; }
  .result-score { font-size: 3.5rem; }
}

/* ═══════════════════════════════════════════
   DASHBOARD STYLES
═══════════════════════════════════════════ */

/* ─── DASH HERO ─── */
.dash-hero {
  display: flex; align-items: center;
  justify-content: space-between; flex-wrap: wrap; gap: 1.5rem;
  padding: 2.5rem 5vw 0;
}
.dash-hero-left {
  display: flex; align-items: center; gap: 1.4rem;
}
.dash-avatar-lg {
  width: 68px; height: 68px; border-radius: 50%;
  background: linear-gradient(135deg, var(--accent), var(--accent2));
  display: flex; align-items: center; justify-content: center;
  font-family: 'Fraunces', serif; font-size: 1.8rem;
  font-weight: 900; color: #fff; flex-shrink: 0;
  box-shadow: 0 6px 20px rgba(255,107,53,.3);
}
.dash-welcome {
  font-size: .82rem; color: var(--text3); font-weight: 600;
  text-transform: uppercase; letter-spacing: .06em; margin-bottom: .2rem;
}
.dash-name {
  font-family: 'Fraunces', serif; font-size: 1.6rem;
  font-weight: 900; color: var(--text); letter-spacing: -0.02em;
  line-height: 1.1; margin-bottom: .25rem;
}
.dash-email { font-size: .84rem; color: var(--text3); }

/* ─── STAT CARDS ROW ─── */
.dash-stats-row {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: 1.2rem; padding: 2rem 5vw;
}
.dash-stat-card {
  background: var(--surface); border: 1.5px solid var(--border);
  border-radius: 20px; padding: 1.6rem 1.4rem;
  display: flex; flex-direction: column; gap: .4rem;
  position: relative; overflow: hidden;
  transition: transform .25s, box-shadow .25s;
}
.dash-stat-card:hover { transform: translateY(-4px); box-shadow: var(--shadow-md); }
.dash-stat-card::after {
  content: ''; position: absolute;
  top: 0; left: 0; right: 0; height: 3px; border-radius: 20px 20px 0 0;
}
.dsc-orange::after { background: linear-gradient(90deg, var(--accent), #ff9f43); }
.dsc-blue::after   { background: linear-gradient(90deg, var(--accent3), #74b9ff); }
.dsc-green::after  { background: linear-gradient(90deg, var(--green), #55efc4); }
.dsc-purple::after { background: linear-gradient(90deg, var(--accent4), #a29bfe); }

.dsc-icon { font-size: 1.6rem; }
.dsc-val {
  font-family: 'Fraunces', serif; font-size: 2.2rem;
  font-weight: 900; color: var(--text); line-height: 1;
}
.dsc-lbl { font-size: .78rem; color: var(--text3); font-weight: 600;
  text-transform: uppercase; letter-spacing: .05em; }

/* ─── DASH BODY LAYOUT ─── */
.dash-body {
  display: grid; grid-template-columns: 1fr 360px;
  gap: 1.5rem; padding: 0 5vw 4rem; align-items: start;
}
.dash-section {
  background: var(--surface); border: 1.5px solid var(--border);
  border-radius: 20px; padding: 1.75rem;
  margin-bottom: 1.5rem;
}
.dash-section:last-child { margin-bottom: 0; }
.dash-section-header {
  display: flex; align-items: center;
  justify-content: space-between; margin-bottom: 1.5rem;
}
.dash-section-header h3 {
  font-family: 'Fraunces', serif; font-size: 1.1rem;
  font-weight: 700; color: var(--text);
}
.dash-section-sub { font-size: .78rem; color: var(--text3); font-weight: 600; }
.dash-see-all {
  font-size: .82rem; font-weight: 700; color: var(--accent);
  text-decoration: none; transition: opacity .2s;
}
.dash-see-all:hover { opacity: .7; }

/* ─── BAR CHART ─── */
.dash-chart {
  height: 160px; display: flex; align-items: flex-end;
  gap: 6px; margin-bottom: 1.5rem;
  padding: 0 .25rem; position: relative;
}
.dash-chart::before {
  content: ''; position: absolute;
  left: 0; right: 0; top: 0; bottom: 0;
  background-image: repeating-linear-gradient(
    to top, transparent, transparent calc(25% - 1px),
    var(--border) calc(25% - 1px), var(--border) 25%
  );
  pointer-events: none;
}
.chart-bar-wrap {
  flex: 1; display: flex; flex-direction: column;
  align-items: center; gap: .4rem; height: 100%;
  justify-content: flex-end; position: relative; z-index: 1;
}
.chart-bar {
  width: 100%; border-radius: 6px 6px 0 0;
  min-height: 4px; transition: height .5s cubic-bezier(.34,1.56,.64,1);
  position: relative; cursor: default;
}
.chart-bar-perfect  { background: linear-gradient(to top, #1a9950, #2ecc71); }
.chart-bar-great    { background: linear-gradient(to top, var(--accent3), #74b9ff); }
.chart-bar-ok       { background: linear-gradient(to top, #f39c12, var(--accent2)); }
.chart-bar-poor     { background: linear-gradient(to top, var(--red), #ff7675); }

.chart-bar-tooltip {
  position: absolute; bottom: calc(100% + 6px); left: 50%;
  transform: translateX(-50%);
  background: var(--text); color: #fff;
  font-size: .7rem; font-weight: 700; padding: .25rem .5rem;
  border-radius: 6px; white-space: nowrap; opacity: 0;
  pointer-events: none; transition: opacity .15s;
}
.chart-bar-wrap:hover .chart-bar-tooltip { opacity: 1; }

.chart-bar-label {
  font-size: .62rem; color: var(--text3); font-weight: 600;
  white-space: nowrap; overflow: hidden; text-overflow: ellipsis;
  max-width: 100%; text-align: center;
}
.chart-empty {
  color: var(--text3); font-size: .88rem; text-align: center;
  margin: auto; line-height: 1.6;
}

/* ─── HISTORY LIST ─── */
.dash-history-list { display: flex; flex-direction: column; gap: .65rem; }
.hist-item {
  display: flex; align-items: center; gap: 1rem;
  padding: .9rem 1rem; border-radius: 12px;
  background: var(--bg2); border: 1px solid var(--border);
  transition: border-color .2s;
}
.hist-item:hover { border-color: var(--border2); }
.hist-rank {
  width: 28px; height: 28px; border-radius: 8px;
  background: var(--bg3); display: flex; align-items: center;
  justify-content: center; font-size: .72rem; font-weight: 800;
  color: var(--text3); flex-shrink: 0;
}
.hist-info { flex: 1; min-width: 0; }
.hist-title {
  font-weight: 700; font-size: .88rem; color: var(--text);
  white-space: nowrap; overflow: hidden; text-overflow: ellipsis;
}
.hist-meta { font-size: .75rem; color: var(--text3); margin-top: .15rem; }
.hist-score-wrap { text-align: right; flex-shrink: 0; }
.hist-score {
  font-family: 'Fraunces', serif; font-size: 1.2rem;
  font-weight: 900; line-height: 1;
}
.hist-score-perfect { color: #1a9950; }
.hist-score-great   { color: var(--accent3); }
.hist-score-ok      { color: var(--yellow); }
.hist-score-poor    { color: var(--red); }
.hist-fraction { font-size: .7rem; color: var(--text3); font-weight: 600; }

/* ─── ACCURACY RING ─── */
.dash-accuracy-card h3 { margin-bottom: 1.25rem; }
.acc-ring-wrap {
  position: relative; width: 140px; height: 140px;
  margin: 0 auto 1.5rem;
}
.acc-ring { width: 100%; height: 100%; transform: rotate(-90deg); }
.acc-ring-bg { fill: none; stroke: var(--bg3); stroke-width: 10; }
.acc-ring-fill {
  fill: none; stroke: var(--accent); stroke-width: 10;
  stroke-linecap: round;
  transition: stroke-dashoffset 1s cubic-bezier(.4,0,.2,1);
}
.acc-ring-label {
  position: absolute; inset: 0;
  display: flex; flex-direction: column;
  align-items: center; justify-content: center;
}
.acc-ring-pct {
  font-family: 'Fraunces', serif; font-size: 1.7rem;
  font-weight: 900; color: var(--text); line-height: 1;
}
.acc-ring-sub { font-size: .72rem; color: var(--text3); font-weight: 600; }

.acc-breakdown {
  display: flex; justify-content: center; align-items: center;
  gap: 1rem; padding: 1rem;
  background: var(--bg2); border-radius: 12px;
}
.acc-item { text-align: center; }
.acc-item span {
  font-family: 'Fraunces', serif; font-size: 1.3rem;
  font-weight: 900; display: block; line-height: 1;
}
.acc-item small {
  font-size: .7rem; color: var(--text3); font-weight: 600;
  text-transform: uppercase; letter-spacing: .05em;
}
.acc-correct span { color: var(--green); }
.acc-wrong span   { color: var(--red); }
.acc-divider { width: 1px; height: 36px; background: var(--border2); }

/* ─── MY QUIZZES MINI LIST ─── */
.dash-myq-list { display: flex; flex-direction: column; gap: .6rem; }
.dash-myq-item {
  display: flex; align-items: center; gap: .85rem;
  padding: .75rem .9rem; border-radius: 10px;
  background: var(--bg2); border: 1px solid var(--border);
  cursor: pointer; transition: all .2s;
}
.dash-myq-item:hover { border-color: var(--accent); background: rgba(255,107,53,.04); }
.dmq-dot {
  width: 8px; height: 8px; border-radius: 50%;
  background: var(--accent); flex-shrink: 0;
}
.dmq-info { flex: 1; min-width: 0; }
.dmq-title {
  font-size: .86rem; font-weight: 700; color: var(--text);
  white-space: nowrap; overflow: hidden; text-overflow: ellipsis;
}
.dmq-meta { font-size: .72rem; color: var(--text3); margin-top: .1rem; }
.dmq-plays {
  font-size: .75rem; font-weight: 700; color: var(--accent2);
  background: rgba(247,201,72,.15); border-radius: 20px;
  padding: .15rem .55rem; flex-shrink: 0;
}
.dash-empty-sm {
  color: var(--text3); font-size: .84rem;
  text-align: center; padding: 1.5rem;
}

/* ─── DASHBOARD RESPONSIVE ─── */
@media (max-width: 1100px) {
  .dash-stats-row { grid-template-columns: repeat(2, 1fr); }
  .dash-body { grid-template-columns: 1fr; }
  .dash-right-col { display: grid; grid-template-columns: 1fr 1fr; gap: 1.5rem; }
  .dash-right-col .dash-section { margin-bottom: 0; }
}
@media (max-width: 700px) {
  .dash-stats-row { grid-template-columns: repeat(2, 1fr); gap: .85rem; padding: 1.5rem 1.25rem; }
  .dash-body { padding: 0 1.25rem 3rem; gap: 0; }
  .dash-right-col { grid-template-columns: 1fr; }
  .dash-hero { padding: 2rem 1.25rem 0; }
  .dash-hero-left { gap: 1rem; }
  .dash-avatar-lg { width: 54px; height: 54px; font-size: 1.4rem; }
  .dash-name { font-size: 1.3rem; }
  .dsc-val { font-size: 1.7rem; }
  .dash-section { padding: 1.25rem; }
}